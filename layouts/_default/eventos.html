{{ define "main" }}

{{ $data := index .Site.Data.eventos }}
{{ $departamento := slice }}
{{ $municipio := slice }}
{{ $mes := slice }}
{{ $tipo := slice }}

{{/* GET CATEGORIES */}}
{{ range $data }}
{{ if .departamento }}
{{ $departamento = $departamento | append .departamento }}
{{ end }}
{{ if .municipio }}
{{ $municipio = $municipio | append .municipio }}
{{ end }}
{{ if .mes }}
{{ $mes = $mes | append .mes }}
{{ end }}
{{ if .tipo }}
{{ $tipo = $tipo | append .tipo }}
{{ end }}
{{ end }}
{{/* GET CATEGORIES END */}}

<div class="grid grid-cols-1 lg:grid-cols-12">
    <!-- BANNER EVENTS -->
    <div
        class="bg-banner-eventos bg-cover bg-center lg:col-start-1 lg:col-end-13 pt-48 pb-20 md:pt-52 md:pb-24 lg:pt-56 lg:pb-28 xl:pt-60 xl:pb-32 observer">
        <h1
            class="tk-mr-eaves-sans uppercase text-white text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-black text-center">
            Eventos
        </h1>
    </div>
    <!-- BANNER EVENTS END -->

    <div class="lg:col-start-1 lg:col-end-13 pt-16 pb-24 lg:pt-16 lg:pb-32 xl:pt-20 xl:pb-40"
        style="background-color: #FAFAFA;"  id="paginationScroll">
        <div class="mx-auto w-11/12 lg:w-10/12 grid grid-cols-1 lg:grid-cols-12 gap-x-8 gap-y-12">
            <div class="lg:col-start-1 lg:col-end-4">
                <h3 class="text-xl lg:text-2xl mb-4 lg:mb-5 font-black" style="color: #3A3C6A;">
                    Filtros
                </h3>
                <!-- PARENT ELEMENT FILTERS -->
                <div class="filters">
                    <!-- DEPARTAMENTO -->
                    <div class="mb-8">
                        <button class="accordion" data-tab="0" style="background-color: #3A3C6A;">
                            Departamento
                            <img class="accordion--images" src="/images/eventos/arrow-right.svg" alt="arrow right">
                        </button>
                        <div class="panel" style="background-color: #F0F0F2;">
                            {{ range sort (uniq $departamento) "value" "asc" }}
                            <label class="filter-label text-lg" for="{{ . }}">
                                <span class="text-lg lg:text-xl">{{ . }}</span>
                                <input type="checkbox" name="departamento" id="{{ . }}" value="{{ . }}">
                                <span class="checkmark"></span>
                            </label>
                            {{ end }}
                        </div>
                    </div>
                    <!-- DEPARTAMENTO END -->

                    <!-- MUNICIPIO -->
                    <div class="mb-8">
                        <button class="accordion" data-tab="1" style="background-color: #3A3C6A;">
                            Municipio
                            <img class="accordion--images" src="/images/eventos/arrow-right.svg" alt="arrow right">
                        </button>
                        <div class="panel" style="background-color: #F0F0F2;">
                            {{ range sort (uniq $municipio) "value" "asc" }}
                            <label class="filter-label text-lg" for="{{ . }}">
                                <span class="text-lg lg:text-xl">{{ . }}</span>
                                <input type="checkbox" name="municipio" id="{{ . }}" value="{{ . }}">
                                <span class="checkmark"></span>
                            </label>
                            {{ end }}
                        </div>
                    </div>
                    <!-- MUNICIPIO END -->

                    <!-- MES -->
                    <div class="mb-8">
                        <button class="accordion" data-tab="2" style="background-color: #3A3C6A;">
                            Mes
                            <img class="accordion--images" src="/images/eventos/arrow-right.svg" alt="arrow right">
                        </button>
                        <div class="panel" style="background-color: #F0F0F2;">
                            {{ range sort (uniq $mes) "value" "asc" }}
                            <label class="filter-label text-lg" for="{{ . }}">
                                <span class="text-lg lg:text-xl">{{ . }}</span>
                                <input type="checkbox" name="mes" id="{{ . }}" value="{{ . }}">
                                <span class="checkmark"></span>
                            </label>
                            {{ end }}
                        </div>
                    </div>
                    <!-- MES END -->

                    <!-- TIPO EVENTO -->
                    <div>
                        <button class="accordion" data-tab="3" style="background-color: #3A3C6A;">
                            Tipo de Evento
                            <img class="accordion--images" src="/images/eventos/arrow-right.svg" alt="arrow right">
                        </button>
                        <div class="panel" style="background-color: #F0F0F2;">
                            {{ range sort (uniq $tipo) "value" "asc" }}
                            <label class="filter-label text-lg" for="{{ . }}">
                                <span class="text-lg lg:text-xl">{{ . }}</span>
                                <input type="checkbox" name="tipo" id="{{ . }}" value="{{ . }}">
                                <span class="checkmark"></span>
                            </label>
                            {{ end }}
                        </div>
                    </div>
                    <!-- TIPO EVENTO END -->
                </div>
            </div>
            <div class="lg:col-start-4 lg:col-end-13">
                <div class="text-right my-8">
                    <h3 class="inline-block py-3 px-6 uppercase text-white font-black"
                        style="background-color: #3A3C6A;">ORDENAR POR</h3>
                </div>
                <div class="event"></div>
                <div class="pagination text-center mt-10 lg:mt-20"></div>
            </div>
        </div>
    </div>

    <!-- UPCOMING EVENTS -->
    {{ partial "events" . }}
    <!-- UPCOMING EVENTS END -->

    <input type="hidden" name="data" id="data-eventos" value="{{ jsonify $data }}" />
</div>
{{ end }}
{{ define "js" }}
{{ $eventos := resources.Get "js/api/eventos.js" | js.Build (dict "minify" hugo.IsProduction)}}
<script src="{{ $eventos.Permalink }}"></script>
{{ end }}